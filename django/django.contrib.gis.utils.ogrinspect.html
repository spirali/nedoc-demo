<!DOCTYPE html><html><head><meta charset=utf-8><title>django.contrib.gis.utils.ogrinspect</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=./assets/purecss/pure-min.css><link rel=stylesheet href=./assets/purecss/grids-responsive-min.css><link rel=stylesheet href=./assets/style.css><link rel=stylesheet href=./assets/pygments/default.css><link rel=stylesheet href=./assets/jquery/jquery-ui.min.css><script src=./assets/jquery/jquery-3.0.0.min.js></script><script src=./assets/jquery/jquery-ui.min.js></script><script src=nedoc.js></script></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-1-4"><div class=header><h1 class=brand-title>Django</h1> 1.0 </div><div id=sbox><input id=search style="color: black;" placeholder="search ..."></div><div class=tree><ul><li><a href=django.html>&#9662; django</a> </li><li><ul><li><a href=django.__main__.html>&#9656; __main__</a> </li><li><a href=django.apps.html>&#9656; apps</a> </li><li><a href=django.bin.html>&#9656; bin</a> </li><li><a href=django.conf.html>&#9656; conf</a> </li><li><a href=django.contrib.html>&#9662; contrib</a> </li><li><ul><li><a href=django.contrib.admin.html>&#9656; admin</a> </li><li><a href=django.contrib.admindocs.html>&#9656; admindocs</a> </li><li><a href=django.contrib.auth.html>&#9656; auth</a> </li><li><a href=django.contrib.contenttypes.html>&#9656; contenttypes</a> </li><li><a href=django.contrib.flatpages.html>&#9656; flatpages</a> </li><li><a href=django.contrib.gis.html>&#9662; gis</a> </li><li><ul><li><a href=django.contrib.gis.admin.html>&#9656; admin</a> </li><li><a href=django.contrib.gis.apps.html>&#9656; apps</a> </li><li><a href=django.contrib.gis.db.html>&#9656; db</a> </li><li><a href=django.contrib.gis.feeds.html>&#9656; feeds</a> </li><li><a href=django.contrib.gis.forms.html>&#9656; forms</a> </li><li><a href=django.contrib.gis.gdal.html>&#9656; gdal</a> </li><li><a href=django.contrib.gis.geoip2.html>&#9656; geoip2</a> </li><li><a href=django.contrib.gis.geometry.html>&#9656; geometry</a> </li><li><a href=django.contrib.gis.geos.html>&#9656; geos</a> </li><li><a href=django.contrib.gis.management.html>&#9656; management</a> </li><li><a href=django.contrib.gis.measure.html>&#9656; measure</a> </li><li><a href=django.contrib.gis.ptr.html>&#9656; ptr</a> </li><li><a href=django.contrib.gis.serializers.html>&#9656; serializers</a> </li><li><a href=django.contrib.gis.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.contrib.gis.sitemaps.html>&#9656; sitemaps</a> </li><li><a href=django.contrib.gis.utils.html>&#9662; utils</a> </li><li><ul><li><a href=django.contrib.gis.utils.layermapping.html>&#9656; layermapping</a> </li><li><a href=django.contrib.gis.utils.ogrinfo.html>&#9656; ogrinfo</a> </li><li><div class=select><a href=django.contrib.gis.utils.ogrinspect.html>&#9662; ogrinspect</a> </div></li><li><a href=django.contrib.gis.utils.srs.html>&#9656; srs</a> </li></ul></li><li><a href=django.contrib.gis.views.html>&#9656; views</a> </li></ul></li><li><a href=django.contrib.humanize.html>&#9656; humanize</a> </li><li><a href=django.contrib.messages.html>&#9656; messages</a> </li><li><a href=django.contrib.postgres.html>&#9656; postgres</a> </li><li><a href=django.contrib.redirects.html>&#9656; redirects</a> </li><li><a href=django.contrib.sessions.html>&#9656; sessions</a> </li><li><a href=django.contrib.sitemaps.html>&#9656; sitemaps</a> </li><li><a href=django.contrib.sites.html>&#9656; sites</a> </li><li><a href=django.contrib.staticfiles.html>&#9656; staticfiles</a> </li><li><a href=django.contrib.syndication.html>&#9656; syndication</a> </li></ul></li><li><a href=django.core.html>&#9656; core</a> </li><li><a href=django.db.html>&#9656; db</a> </li><li><a href=django.dispatch.html>&#9656; dispatch</a> </li><li><a href=django.forms.html>&#9656; forms</a> </li><li><a href=django.http.html>&#9656; http</a> </li><li><a href=django.middleware.html>&#9656; middleware</a> </li><li><a href=django.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.template.html>&#9656; template</a> </li><li><a href=django.templatetags.html>&#9656; templatetags</a> </li><li><a href=django.test.html>&#9656; test</a> </li><li><a href=django.urls.html>&#9656; urls</a> </li><li><a href=django.utils.html>&#9656; utils</a> </li><li><a href=django.views.html>&#9656; views</a> </li></ul></ul></div></div><div class="content pure-u-1 pure-u-md-3-4"><h1>Module ogrinspect</h1><div id=path><a class=symbol href=django.html>django</a>.<a class=symbol href=django.contrib.html>contrib</a>.<a class=symbol href=django.contrib.gis.html>gis</a>.<a class=symbol href=django.contrib.gis.utils.html>utils</a>.<a class=symbol href=django.contrib.gis.utils.ogrinspect.html>ogrinspect</a></div><div class=docline> This module is for inspecting OGR data sources and generating either models for GeoDjango and/or mapping dictionaries for use with the `LayerMapping` utility. </div><a class=sourcelink href=source+django.contrib.gis.utils.ogrinspect.py.html>source</a> <a class=sourcelink href=django.contrib.gis.utils.ogrinspect.html>link</a><h2>Functions</h2><ul class=deflst><li><div class=fn><a id=f_mapping></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.ogrinspect.html#f_mapping>mapping</a>(<span class=args>data_source, geom_name=&#39;geom&#39;, layer_key=0, multi_geom=False</span>) </span><div class=docline> Given a DataSource, generate a dictionary that may be used for invoking the LayerMapping utility. </div></div><div class=fdetail id=fn_mapping><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.ogrinspect.py.html#line-12>source</a> <a class=sourcelink href=django.contrib.gis.utils.ogrinspect.html#f_mapping>link</a></div><pre>Keyword Arguments:
 `geom_name` =&gt; The name of the geometry field to use for the model.

 `layer_key` =&gt; The key for specifying which layer in the DataSource to use;
   defaults to 0 (the first layer).  May be an integer index or a string
   identifier for the layer.

 `multi_geom` =&gt; Boolean (default: False) - specify as multigeometry.</pre><h3>Reexports</h3><ul class=deflst2><li> Imported in <a class=symbol href=django.contrib.gis.utils.html>django.contrib.gis.utils</a>. </li></ul></div></div></li><li><div class=fn><a id=f_ogrinspect></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.ogrinspect.html#f_ogrinspect>ogrinspect</a>(<span class=args>*args, **kwargs</span>) </span><div class=docline> Given a data source (either a string or a DataSource object) and a string model name this function will generate a GeoDjango model. </div></div><div class=fdetail id=fn_ogrinspect><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.ogrinspect.py.html#line-50>source</a> <a class=sourcelink href=django.contrib.gis.utils.ogrinspect.html#f_ogrinspect>link</a></div><pre>Usage:

&gt;&gt;&gt; from django.contrib.gis.utils import ogrinspect
&gt;&gt;&gt; ogrinspect(&#39;/path/to/shapefile.shp&#39;,&#39;NewModel&#39;)

...will print model definition to stout

or put this in a Python script and use to redirect the output to a new
model like:

$ python generate_model.py &gt; myapp/models.py

# generate_model.py
from django.contrib.gis.utils import ogrinspect
shp_file = &#39;data/mapping_hacks/world_borders.shp&#39;
model_name = &#39;WorldBorders&#39;

print(ogrinspect(shp_file, model_name, multi_geom=True, srid=4326,
                 geom_name=&#39;shapes&#39;, blank=True))

Required Arguments
 `datasource` =&gt; string or DataSource object to file pointer

 `model name` =&gt; string of name of new model class to create

Optional Keyword Arguments
 `geom_name` =&gt; For specifying the model name for the Geometry Field.
   Otherwise will default to `geom`

 `layer_key` =&gt; The key for specifying which layer in the DataSource to use;
   defaults to 0 (the first layer).  May be an integer index or a string
   identifier for the layer.

 `srid` =&gt; The SRID to use for the Geometry Field.  If it can be determined,
   the SRID of the datasource is used.

 `multi_geom` =&gt; Boolean (default: False) - specify as multigeometry.

 `name_field` =&gt; String - specifies a field name to return for the
   __str__() method (which will be generated if specified).

 `imports` =&gt; Boolean (default: True) - set to False to omit the
   `from django.contrib.gis.db import models` code from the
   autogenerated models thus avoiding duplicated imports when building
   more than one model by batching ogrinspect()

 `decimal` =&gt; Boolean or sequence (default: False).  When set to True
   all generated model fields corresponding to the `OFTReal` type will
   be `DecimalField` instead of `FloatField`.  A sequence of specific
   field names to generate as `DecimalField` may also be used.

 `blank` =&gt; Boolean or sequence (default: False).  When set to True all
   generated model fields will have `blank=True`.  If the user wants to
   give specific fields to have blank, then a list/tuple of OGR field
   names may be used.

 `null` =&gt; Boolean (default: False) - When set to True all generated
   model fields will have `null=True`.  If the user wants to specify
   give specific fields to have null, then a list/tuple of OGR field
   names may be used.

Note: Call the _ogrinspect() helper to do the heavy lifting.</pre><h3>Reexports</h3><ul class=deflst2><li> Imported in <a class=symbol href=django.contrib.gis.utils.html>django.contrib.gis.utils</a>. </li></ul></div></div></li></ul><p class=footer> Generated by <a href=https://github.com/spirali/nedoc>nedoc</a> v0.9 at 2020-12-29 14:04 </p></div></div></body></html>