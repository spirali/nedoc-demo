<!DOCTYPE html><html><head><meta charset=utf-8><title>django.utils.termcolors</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=./assets/purecss/pure-min.css><link rel=stylesheet href=./assets/purecss/grids-responsive-min.css><link rel=stylesheet href=./assets/style.css><link rel=stylesheet href=./assets/pygments/default.css><link rel=stylesheet href=./assets/jquery/jquery-ui.min.css><script src=./assets/jquery/jquery-3.0.0.min.js></script><script src=./assets/jquery/jquery-ui.min.js></script><script src=nedoc.js></script></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-1-4"><div class=header><h1 class=brand-title>Django</h1> 1.0 </div><div id=sbox><input id=search style="color: black;" placeholder="search ..."></div><div class=tree><ul><li><a href=django.html>&#9662; django</a> </li><li><ul><li><a href=django.__main__.html>&#9656; __main__</a> </li><li><a href=django.apps.html>&#9656; apps</a> </li><li><a href=django.bin.html>&#9656; bin</a> </li><li><a href=django.conf.html>&#9656; conf</a> </li><li><a href=django.contrib.html>&#9656; contrib</a> </li><li><a href=django.core.html>&#9656; core</a> </li><li><a href=django.db.html>&#9656; db</a> </li><li><a href=django.dispatch.html>&#9656; dispatch</a> </li><li><a href=django.forms.html>&#9656; forms</a> </li><li><a href=django.http.html>&#9656; http</a> </li><li><a href=django.middleware.html>&#9656; middleware</a> </li><li><a href=django.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.template.html>&#9656; template</a> </li><li><a href=django.templatetags.html>&#9656; templatetags</a> </li><li><a href=django.test.html>&#9656; test</a> </li><li><a href=django.urls.html>&#9656; urls</a> </li><li><a href=django.utils.html>&#9662; utils</a> </li><li><ul><li><a href=django.utils.archive.html>&#9656; archive</a> </li><li><a href=django.utils.asyncio.html>&#9656; asyncio</a> </li><li><a href=django.utils.autoreload.html>&#9656; autoreload</a> </li><li><a href=django.utils.baseconv.html>&#9656; baseconv</a> </li><li><a href=django.utils.cache.html>&#9656; cache</a> </li><li><a href=django.utils.crypto.html>&#9656; crypto</a> </li><li><a href=django.utils.datastructures.html>&#9656; datastructures</a> </li><li><a href=django.utils.dateformat.html>&#9656; dateformat</a> </li><li><a href=django.utils.dateparse.html>&#9656; dateparse</a> </li><li><a href=django.utils.dates.html>&#9656; dates</a> </li><li><a href=django.utils.datetime_safe.html>&#9656; datetime_safe</a> </li><li><a href=django.utils.deconstruct.html>&#9656; deconstruct</a> </li><li><a href=django.utils.decorators.html>&#9656; decorators</a> </li><li><a href=django.utils.deprecation.html>&#9656; deprecation</a> </li><li><a href=django.utils.duration.html>&#9656; duration</a> </li><li><a href=django.utils.encoding.html>&#9656; encoding</a> </li><li><a href=django.utils.feedgenerator.html>&#9656; feedgenerator</a> </li><li><a href=django.utils.formats.html>&#9656; formats</a> </li><li><a href=django.utils.functional.html>&#9656; functional</a> </li><li><a href=django.utils.hashable.html>&#9656; hashable</a> </li><li><a href=django.utils.html.html>&#9656; html</a> </li><li><a href=django.utils.http.html>&#9656; http</a> </li><li><a href=django.utils.inspect.html>&#9656; inspect</a> </li><li><a href=django.utils.ipv6.html>&#9656; ipv6</a> </li><li><a href=django.utils.itercompat.html>&#9656; itercompat</a> </li><li><a href=django.utils.jslex.html>&#9656; jslex</a> </li><li><a href=django.utils.log.html>&#9656; log</a> </li><li><a href=django.utils.lorem_ipsum.html>&#9656; lorem_ipsum</a> </li><li><a href=django.utils.module_loading.html>&#9656; module_loading</a> </li><li><a href=django.utils.numberformat.html>&#9656; numberformat</a> </li><li><a href=django.utils.regex_helper.html>&#9656; regex_helper</a> </li><li><a href=django.utils.safestring.html>&#9656; safestring</a> </li><li><div class=select><a href=django.utils.termcolors.html>&#9662; termcolors</a> </div></li><li><a href=django.utils.text.html>&#9656; text</a> </li><li><a href=django.utils.timesince.html>&#9656; timesince</a> </li><li><a href=django.utils.timezone.html>&#9656; timezone</a> </li><li><a href=django.utils.topological_sort.html>&#9656; topological_sort</a> </li><li><a href=django.utils.translation.html>&#9656; translation</a> </li><li><a href=django.utils.tree.html>&#9656; tree</a> </li><li><a href=django.utils.version.html>&#9656; version</a> </li><li><a href=django.utils.xmlutils.html>&#9656; xmlutils</a> </li></ul></li><li><a href=django.views.html>&#9656; views</a> </li></ul></ul></div></div><div class="content pure-u-1 pure-u-md-3-4"><h1>Source code django/utils/termcolors.py</h1><div id=path><a class=symbol href=django.html>django</a>.<a class=symbol href=django.utils.html>utils</a>.<a class=symbol href=django.utils.termcolors.html>termcolors</a></div><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre></div></td><td class=code><div class=highlight><pre><span></span><a name=line-1></a><span class=sd>&quot;&quot;&quot;</span>
<a name=line-2></a><span class=sd>termcolors.py</span>
<a name=line-3></a><span class=sd>&quot;&quot;&quot;</span>
<a name=line-4></a>
<a name=line-5></a><span class=n>color_names</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;black&#39;</span><span class=p>,</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;yellow&#39;</span><span class=p>,</span> <span class=s1>&#39;blue&#39;</span><span class=p>,</span> <span class=s1>&#39;magenta&#39;</span><span class=p>,</span> <span class=s1>&#39;cyan&#39;</span><span class=p>,</span> <span class=s1>&#39;white&#39;</span><span class=p>)</span>
<a name=line-6></a><span class=n>foreground</span> <span class=o>=</span> <span class=p>{</span><span class=n>color_names</span><span class=p>[</span><span class=n>x</span><span class=p>]:</span> <span class=s1>&#39;3</span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>8</span><span class=p>)}</span>
<a name=line-7></a><span class=n>background</span> <span class=o>=</span> <span class=p>{</span><span class=n>color_names</span><span class=p>[</span><span class=n>x</span><span class=p>]:</span> <span class=s1>&#39;4</span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>8</span><span class=p>)}</span>
<a name=line-8></a>
<a name=line-9></a><span class=n>RESET</span> <span class=o>=</span> <span class=s1>&#39;0&#39;</span>
<a name=line-10></a><span class=n>opt_dict</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;bold&#39;</span><span class=p>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;underscore&#39;</span><span class=p>:</span> <span class=s1>&#39;4&#39;</span><span class=p>,</span> <span class=s1>&#39;blink&#39;</span><span class=p>:</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span> <span class=s1>&#39;reverse&#39;</span><span class=p>:</span> <span class=s1>&#39;7&#39;</span><span class=p>,</span> <span class=s1>&#39;conceal&#39;</span><span class=p>:</span> <span class=s1>&#39;8&#39;</span><span class=p>}</span>
<a name=line-11></a>
<a name=line-12></a>
<a name=line-13></a><span class=k>def</span> <span class=nf>colorize</span><span class=p>(</span><span class=n>text</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=o>=</span><span class=p>(),</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a name=line-14></a>    <span class=sd>&quot;&quot;&quot;</span>
<a name=line-15></a><span class=sd>    Return your text, enclosed in ANSI graphics codes.</span>
<a name=line-16></a>
<a name=line-17></a><span class=sd>    Depends on the keyword arguments &#39;fg&#39; and &#39;bg&#39;, and the contents of</span>
<a name=line-18></a><span class=sd>    the opts tuple/list.</span>
<a name=line-19></a>
<a name=line-20></a><span class=sd>    Return the RESET code if no parameters are given.</span>
<a name=line-21></a>
<a name=line-22></a><span class=sd>    Valid colors:</span>
<a name=line-23></a><span class=sd>        &#39;black&#39;, &#39;red&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;blue&#39;, &#39;magenta&#39;, &#39;cyan&#39;, &#39;white&#39;</span>
<a name=line-24></a>
<a name=line-25></a><span class=sd>    Valid options:</span>
<a name=line-26></a><span class=sd>        &#39;bold&#39;</span>
<a name=line-27></a><span class=sd>        &#39;underscore&#39;</span>
<a name=line-28></a><span class=sd>        &#39;blink&#39;</span>
<a name=line-29></a><span class=sd>        &#39;reverse&#39;</span>
<a name=line-30></a><span class=sd>        &#39;conceal&#39;</span>
<a name=line-31></a><span class=sd>        &#39;noreset&#39; - string will not be auto-terminated with the RESET code</span>
<a name=line-32></a>
<a name=line-33></a><span class=sd>    Examples:</span>
<a name=line-34></a><span class=sd>        colorize(&#39;hello&#39;, fg=&#39;red&#39;, bg=&#39;blue&#39;, opts=(&#39;blink&#39;,))</span>
<a name=line-35></a><span class=sd>        colorize()</span>
<a name=line-36></a><span class=sd>        colorize(&#39;goodbye&#39;, opts=(&#39;underscore&#39;,))</span>
<a name=line-37></a><span class=sd>        print(colorize(&#39;first line&#39;, fg=&#39;red&#39;, opts=(&#39;noreset&#39;,)))</span>
<a name=line-38></a><span class=sd>        print(&#39;this should be red too&#39;)</span>
<a name=line-39></a><span class=sd>        print(colorize(&#39;and so should this&#39;))</span>
<a name=line-40></a><span class=sd>        print(&#39;this should not be red&#39;)</span>
<a name=line-41></a><span class=sd>    &quot;&quot;&quot;</span>
<a name=line-42></a>    <span class=n>code_list</span> <span class=o>=</span> <span class=p>[]</span>
<a name=line-43></a>    <span class=k>if</span> <span class=n>text</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>opts</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span> <span class=ow>and</span> <span class=n>opts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;reset&#39;</span><span class=p>:</span>
<a name=line-44></a>        <span class=k>return</span> <span class=s1>&#39;</span><span class=se>\x1b</span><span class=s1>[</span><span class=si>%s</span><span class=s1>m&#39;</span> <span class=o>%</span> <span class=n>RESET</span>
<a name=line-45></a>    <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a name=line-46></a>        <span class=k>if</span> <span class=n>k</span> <span class=o>==</span> <span class=s1>&#39;fg&#39;</span><span class=p>:</span>
<a name=line-47></a>            <span class=n>code_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>foreground</span><span class=p>[</span><span class=n>v</span><span class=p>])</span>
<a name=line-48></a>        <span class=k>elif</span> <span class=n>k</span> <span class=o>==</span> <span class=s1>&#39;bg&#39;</span><span class=p>:</span>
<a name=line-49></a>            <span class=n>code_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>background</span><span class=p>[</span><span class=n>v</span><span class=p>])</span>
<a name=line-50></a>    <span class=k>for</span> <span class=n>o</span> <span class=ow>in</span> <span class=n>opts</span><span class=p>:</span>
<a name=line-51></a>        <span class=k>if</span> <span class=n>o</span> <span class=ow>in</span> <span class=n>opt_dict</span><span class=p>:</span>
<a name=line-52></a>            <span class=n>code_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>opt_dict</span><span class=p>[</span><span class=n>o</span><span class=p>])</span>
<a name=line-53></a>    <span class=k>if</span> <span class=s1>&#39;noreset&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>opts</span><span class=p>:</span>
<a name=line-54></a>        <span class=n>text</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=si>%s</span><span class=se>\x1b</span><span class=s1>[</span><span class=si>%s</span><span class=s1>m&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>text</span> <span class=ow>or</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>RESET</span><span class=p>)</span>
<a name=line-55></a>    <span class=k>return</span> <span class=s1>&#39;</span><span class=si>%s%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=p>((</span><span class=s1>&#39;</span><span class=se>\x1b</span><span class=s1>[</span><span class=si>%s</span><span class=s1>m&#39;</span> <span class=o>%</span> <span class=s1>&#39;;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>code_list</span><span class=p>)),</span> <span class=n>text</span> <span class=ow>or</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
<a name=line-56></a>
<a name=line-57></a>
<a name=line-58></a><span class=k>def</span> <span class=nf>make_style</span><span class=p>(</span><span class=n>opts</span><span class=o>=</span><span class=p>(),</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<a name=line-59></a>    <span class=sd>&quot;&quot;&quot;</span>
<a name=line-60></a><span class=sd>    Return a function with default parameters for colorize()</span>
<a name=line-61></a>
<a name=line-62></a><span class=sd>    Example:</span>
<a name=line-63></a><span class=sd>        bold_red = make_style(opts=(&#39;bold&#39;,), fg=&#39;red&#39;)</span>
<a name=line-64></a><span class=sd>        print(bold_red(&#39;hello&#39;))</span>
<a name=line-65></a><span class=sd>        KEYWORD = make_style(fg=&#39;yellow&#39;)</span>
<a name=line-66></a><span class=sd>        COMMENT = make_style(fg=&#39;blue&#39;, opts=(&#39;bold&#39;,))</span>
<a name=line-67></a><span class=sd>    &quot;&quot;&quot;</span>
<a name=line-68></a>    <span class=k>return</span> <span class=k>lambda</span> <span class=n>text</span><span class=p>:</span> <span class=n>colorize</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>opts</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a name=line-69></a>
<a name=line-70></a>
<a name=line-71></a><span class=n>NOCOLOR_PALETTE</span> <span class=o>=</span> <span class=s1>&#39;nocolor&#39;</span>
<a name=line-72></a><span class=n>DARK_PALETTE</span> <span class=o>=</span> <span class=s1>&#39;dark&#39;</span>
<a name=line-73></a><span class=n>LIGHT_PALETTE</span> <span class=o>=</span> <span class=s1>&#39;light&#39;</span>
<a name=line-74></a>
<a name=line-75></a><span class=n>PALETTES</span> <span class=o>=</span> <span class=p>{</span>
<a name=line-76></a>    <span class=n>NOCOLOR_PALETTE</span><span class=p>:</span> <span class=p>{</span>
<a name=line-77></a>        <span class=s1>&#39;ERROR&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-78></a>        <span class=s1>&#39;SUCCESS&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-79></a>        <span class=s1>&#39;WARNING&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-80></a>        <span class=s1>&#39;NOTICE&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-81></a>        <span class=s1>&#39;SQL_FIELD&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-82></a>        <span class=s1>&#39;SQL_COLTYPE&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-83></a>        <span class=s1>&#39;SQL_KEYWORD&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-84></a>        <span class=s1>&#39;SQL_TABLE&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-85></a>        <span class=s1>&#39;HTTP_INFO&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-86></a>        <span class=s1>&#39;HTTP_SUCCESS&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-87></a>        <span class=s1>&#39;HTTP_REDIRECT&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-88></a>        <span class=s1>&#39;HTTP_NOT_MODIFIED&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-89></a>        <span class=s1>&#39;HTTP_BAD_REQUEST&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-90></a>        <span class=s1>&#39;HTTP_NOT_FOUND&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-91></a>        <span class=s1>&#39;HTTP_SERVER_ERROR&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-92></a>        <span class=s1>&#39;MIGRATE_HEADING&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-93></a>        <span class=s1>&#39;MIGRATE_LABEL&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-94></a>    <span class=p>},</span>
<a name=line-95></a>    <span class=n>DARK_PALETTE</span><span class=p>:</span> <span class=p>{</span>
<a name=line-96></a>        <span class=s1>&#39;ERROR&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-97></a>        <span class=s1>&#39;SUCCESS&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-98></a>        <span class=s1>&#39;WARNING&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;yellow&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-99></a>        <span class=s1>&#39;NOTICE&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>},</span>
<a name=line-100></a>        <span class=s1>&#39;SQL_FIELD&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-101></a>        <span class=s1>&#39;SQL_COLTYPE&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>},</span>
<a name=line-102></a>        <span class=s1>&#39;SQL_KEYWORD&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;yellow&#39;</span><span class=p>},</span>
<a name=line-103></a>        <span class=s1>&#39;SQL_TABLE&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-104></a>        <span class=s1>&#39;HTTP_INFO&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-105></a>        <span class=s1>&#39;HTTP_SUCCESS&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-106></a>        <span class=s1>&#39;HTTP_REDIRECT&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>},</span>
<a name=line-107></a>        <span class=s1>&#39;HTTP_NOT_MODIFIED&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;cyan&#39;</span><span class=p>},</span>
<a name=line-108></a>        <span class=s1>&#39;HTTP_BAD_REQUEST&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-109></a>        <span class=s1>&#39;HTTP_NOT_FOUND&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;yellow&#39;</span><span class=p>},</span>
<a name=line-110></a>        <span class=s1>&#39;HTTP_SERVER_ERROR&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;magenta&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-111></a>        <span class=s1>&#39;MIGRATE_HEADING&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;cyan&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-112></a>        <span class=s1>&#39;MIGRATE_LABEL&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-113></a>    <span class=p>},</span>
<a name=line-114></a>    <span class=n>LIGHT_PALETTE</span><span class=p>:</span> <span class=p>{</span>
<a name=line-115></a>        <span class=s1>&#39;ERROR&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-116></a>        <span class=s1>&#39;SUCCESS&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-117></a>        <span class=s1>&#39;WARNING&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;yellow&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-118></a>        <span class=s1>&#39;NOTICE&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>},</span>
<a name=line-119></a>        <span class=s1>&#39;SQL_FIELD&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-120></a>        <span class=s1>&#39;SQL_COLTYPE&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>},</span>
<a name=line-121></a>        <span class=s1>&#39;SQL_KEYWORD&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;blue&#39;</span><span class=p>},</span>
<a name=line-122></a>        <span class=s1>&#39;SQL_TABLE&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-123></a>        <span class=s1>&#39;HTTP_INFO&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-124></a>        <span class=s1>&#39;HTTP_SUCCESS&#39;</span><span class=p>:</span> <span class=p>{},</span>
<a name=line-125></a>        <span class=s1>&#39;HTTP_REDIRECT&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-126></a>        <span class=s1>&#39;HTTP_NOT_MODIFIED&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;green&#39;</span><span class=p>},</span>
<a name=line-127></a>        <span class=s1>&#39;HTTP_BAD_REQUEST&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-128></a>        <span class=s1>&#39;HTTP_NOT_FOUND&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>},</span>
<a name=line-129></a>        <span class=s1>&#39;HTTP_SERVER_ERROR&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;magenta&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-130></a>        <span class=s1>&#39;MIGRATE_HEADING&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;fg&#39;</span><span class=p>:</span> <span class=s1>&#39;cyan&#39;</span><span class=p>,</span> <span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-131></a>        <span class=s1>&#39;MIGRATE_LABEL&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;opts&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s1>&#39;bold&#39;</span><span class=p>,)},</span>
<a name=line-132></a>    <span class=p>}</span>
<a name=line-133></a><span class=p>}</span>
<a name=line-134></a><span class=n>DEFAULT_PALETTE</span> <span class=o>=</span> <span class=n>DARK_PALETTE</span>
<a name=line-135></a>
<a name=line-136></a>
<a name=line-137></a><span class=k>def</span> <span class=nf>parse_color_setting</span><span class=p>(</span><span class=n>config_string</span><span class=p>):</span>
<a name=line-138></a>    <span class=sd>&quot;&quot;&quot;Parse a DJANGO_COLORS environment variable to produce the system palette</span>
<a name=line-139></a>
<a name=line-140></a><span class=sd>    The general form of a palette definition is:</span>
<a name=line-141></a>
<a name=line-142></a><span class=sd>        &quot;palette;role=fg;role=fg/bg;role=fg,option,option;role=fg/bg,option,option&quot;</span>
<a name=line-143></a>
<a name=line-144></a><span class=sd>    where:</span>
<a name=line-145></a><span class=sd>        palette is a named palette; one of &#39;light&#39;, &#39;dark&#39;, or &#39;nocolor&#39;.</span>
<a name=line-146></a><span class=sd>        role is a named style used by Django</span>
<a name=line-147></a><span class=sd>        fg is a foreground color.</span>
<a name=line-148></a><span class=sd>        bg is a background color.</span>
<a name=line-149></a><span class=sd>        option is a display options.</span>
<a name=line-150></a>
<a name=line-151></a><span class=sd>    Specifying a named palette is the same as manually specifying the individual</span>
<a name=line-152></a><span class=sd>    definitions for each role. Any individual definitions following the palette</span>
<a name=line-153></a><span class=sd>    definition will augment the base palette definition.</span>
<a name=line-154></a>
<a name=line-155></a><span class=sd>    Valid roles:</span>
<a name=line-156></a><span class=sd>        &#39;error&#39;, &#39;success&#39;, &#39;warning&#39;, &#39;notice&#39;, &#39;sql_field&#39;, &#39;sql_coltype&#39;,</span>
<a name=line-157></a><span class=sd>        &#39;sql_keyword&#39;, &#39;sql_table&#39;, &#39;http_info&#39;, &#39;http_success&#39;,</span>
<a name=line-158></a><span class=sd>        &#39;http_redirect&#39;, &#39;http_not_modified&#39;, &#39;http_bad_request&#39;,</span>
<a name=line-159></a><span class=sd>        &#39;http_not_found&#39;, &#39;http_server_error&#39;, &#39;migrate_heading&#39;,</span>
<a name=line-160></a><span class=sd>        &#39;migrate_label&#39;</span>
<a name=line-161></a>
<a name=line-162></a><span class=sd>    Valid colors:</span>
<a name=line-163></a><span class=sd>        &#39;black&#39;, &#39;red&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;blue&#39;, &#39;magenta&#39;, &#39;cyan&#39;, &#39;white&#39;</span>
<a name=line-164></a>
<a name=line-165></a><span class=sd>    Valid options:</span>
<a name=line-166></a><span class=sd>        &#39;bold&#39;, &#39;underscore&#39;, &#39;blink&#39;, &#39;reverse&#39;, &#39;conceal&#39;, &#39;noreset&#39;</span>
<a name=line-167></a><span class=sd>    &quot;&quot;&quot;</span>
<a name=line-168></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>config_string</span><span class=p>:</span>
<a name=line-169></a>        <span class=k>return</span> <span class=n>PALETTES</span><span class=p>[</span><span class=n>DEFAULT_PALETTE</span><span class=p>]</span>
<a name=line-170></a>
<a name=line-171></a>    <span class=c1># Split the color configuration into parts</span>
<a name=line-172></a>    <span class=n>parts</span> <span class=o>=</span> <span class=n>config_string</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;;&#39;</span><span class=p>)</span>
<a name=line-173></a>    <span class=n>palette</span> <span class=o>=</span> <span class=n>PALETTES</span><span class=p>[</span><span class=n>NOCOLOR_PALETTE</span><span class=p>]</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<a name=line-174></a>    <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts</span><span class=p>:</span>
<a name=line-175></a>        <span class=k>if</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>PALETTES</span><span class=p>:</span>
<a name=line-176></a>            <span class=c1># A default palette has been specified</span>
<a name=line-177></a>            <span class=n>palette</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>PALETTES</span><span class=p>[</span><span class=n>part</span><span class=p>])</span>
<a name=line-178></a>        <span class=k>elif</span> <span class=s1>&#39;=&#39;</span> <span class=ow>in</span> <span class=n>part</span><span class=p>:</span>
<a name=line-179></a>            <span class=c1># Process a palette defining string</span>
<a name=line-180></a>            <span class=n>definition</span> <span class=o>=</span> <span class=p>{}</span>
<a name=line-181></a>
<a name=line-182></a>            <span class=c1># Break the definition into the role,</span>
<a name=line-183></a>            <span class=c1># plus the list of specific instructions.</span>
<a name=line-184></a>            <span class=c1># The role must be in upper case</span>
<a name=line-185></a>            <span class=n>role</span><span class=p>,</span> <span class=n>instructions</span> <span class=o>=</span> <span class=n>part</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;=&#39;</span><span class=p>)</span>
<a name=line-186></a>            <span class=n>role</span> <span class=o>=</span> <span class=n>role</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span>
<a name=line-187></a>
<a name=line-188></a>            <span class=n>styles</span> <span class=o>=</span> <span class=n>instructions</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
<a name=line-189></a>            <span class=n>styles</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
<a name=line-190></a>
<a name=line-191></a>            <span class=c1># The first instruction can contain a slash</span>
<a name=line-192></a>            <span class=c1># to break apart fg/bg.</span>
<a name=line-193></a>            <span class=n>colors</span> <span class=o>=</span> <span class=n>styles</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<a name=line-194></a>            <span class=n>colors</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
<a name=line-195></a>            <span class=n>fg</span> <span class=o>=</span> <span class=n>colors</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
<a name=line-196></a>            <span class=k>if</span> <span class=n>fg</span> <span class=ow>in</span> <span class=n>color_names</span><span class=p>:</span>
<a name=line-197></a>                <span class=n>definition</span><span class=p>[</span><span class=s1>&#39;fg&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>fg</span>
<a name=line-198></a>            <span class=k>if</span> <span class=n>colors</span> <span class=ow>and</span> <span class=n>colors</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=ow>in</span> <span class=n>color_names</span><span class=p>:</span>
<a name=line-199></a>                <span class=n>definition</span><span class=p>[</span><span class=s1>&#39;bg&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>colors</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a name=line-200></a>
<a name=line-201></a>            <span class=c1># All remaining instructions are options</span>
<a name=line-202></a>            <span class=n>opts</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>s</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>styles</span> <span class=k>if</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>opt_dict</span><span class=p>)</span>
<a name=line-203></a>            <span class=k>if</span> <span class=n>opts</span><span class=p>:</span>
<a name=line-204></a>                <span class=n>definition</span><span class=p>[</span><span class=s1>&#39;opts&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>opts</span>
<a name=line-205></a>
<a name=line-206></a>            <span class=c1># The nocolor palette has all available roles.</span>
<a name=line-207></a>            <span class=c1># Use that palette as the basis for determining</span>
<a name=line-208></a>            <span class=c1># if the role is valid.</span>
<a name=line-209></a>            <span class=k>if</span> <span class=n>role</span> <span class=ow>in</span> <span class=n>PALETTES</span><span class=p>[</span><span class=n>NOCOLOR_PALETTE</span><span class=p>]</span> <span class=ow>and</span> <span class=n>definition</span><span class=p>:</span>
<a name=line-210></a>                <span class=n>palette</span><span class=p>[</span><span class=n>role</span><span class=p>]</span> <span class=o>=</span> <span class=n>definition</span>
<a name=line-211></a>
<a name=line-212></a>    <span class=c1># If there are no colors specified, return the empty palette.</span>
<a name=line-213></a>    <span class=k>if</span> <span class=n>palette</span> <span class=o>==</span> <span class=n>PALETTES</span><span class=p>[</span><span class=n>NOCOLOR_PALETTE</span><span class=p>]:</span>
<a name=line-214></a>        <span class=k>return</span> <span class=kc>None</span>
<a name=line-215></a>    <span class=k>return</span> <span class=n>palette</span>
</pre></div></td></tr></table><p class=footer> Generated by <a href=https://github.com/spirali/nedoc>nedoc</a> v0.9 at 2020-12-29 14:05 </p></div></div></body></html>