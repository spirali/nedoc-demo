<!DOCTYPE html><html><head><meta charset=utf-8><title>django.contrib.gis.utils.layermapping.LayerMapping</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=./assets/purecss/pure-min.css><link rel=stylesheet href=./assets/purecss/grids-responsive-min.css><link rel=stylesheet href=./assets/style.css><link rel=stylesheet href=./assets/pygments/default.css><link rel=stylesheet href=./assets/jquery/jquery-ui.min.css><script src=./assets/jquery/jquery-3.0.0.min.js></script><script src=./assets/jquery/jquery-ui.min.js></script><script src=nedoc.js></script></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-1-4"><div class=header><h1 class=brand-title>Django</h1> 1.0 </div><div id=sbox><input id=search style="color: black;" placeholder="search ..."></div><div class=tree><ul><li><a href=django.html>&#9662; django</a> </li><li><ul><li><a href=django.__main__.html>&#9656; __main__</a> </li><li><a href=django.apps.html>&#9656; apps</a> </li><li><a href=django.bin.html>&#9656; bin</a> </li><li><a href=django.conf.html>&#9656; conf</a> </li><li><a href=django.contrib.html>&#9662; contrib</a> </li><li><ul><li><a href=django.contrib.admin.html>&#9656; admin</a> </li><li><a href=django.contrib.admindocs.html>&#9656; admindocs</a> </li><li><a href=django.contrib.auth.html>&#9656; auth</a> </li><li><a href=django.contrib.contenttypes.html>&#9656; contenttypes</a> </li><li><a href=django.contrib.flatpages.html>&#9656; flatpages</a> </li><li><a href=django.contrib.gis.html>&#9662; gis</a> </li><li><ul><li><a href=django.contrib.gis.admin.html>&#9656; admin</a> </li><li><a href=django.contrib.gis.apps.html>&#9656; apps</a> </li><li><a href=django.contrib.gis.db.html>&#9656; db</a> </li><li><a href=django.contrib.gis.feeds.html>&#9656; feeds</a> </li><li><a href=django.contrib.gis.forms.html>&#9656; forms</a> </li><li><a href=django.contrib.gis.gdal.html>&#9656; gdal</a> </li><li><a href=django.contrib.gis.geoip2.html>&#9656; geoip2</a> </li><li><a href=django.contrib.gis.geometry.html>&#9656; geometry</a> </li><li><a href=django.contrib.gis.geos.html>&#9656; geos</a> </li><li><a href=django.contrib.gis.management.html>&#9656; management</a> </li><li><a href=django.contrib.gis.measure.html>&#9656; measure</a> </li><li><a href=django.contrib.gis.ptr.html>&#9656; ptr</a> </li><li><a href=django.contrib.gis.serializers.html>&#9656; serializers</a> </li><li><a href=django.contrib.gis.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.contrib.gis.sitemaps.html>&#9656; sitemaps</a> </li><li><a href=django.contrib.gis.utils.html>&#9662; utils</a> </li><li><ul><li><a href=django.contrib.gis.utils.layermapping.html>&#9662; layermapping</a> </li><li><ul><li><a href=django.contrib.gis.utils.layermapping.InvalidDecimal.html> <i>class</i> InvalidDecimal</a> </li><li><a href=django.contrib.gis.utils.layermapping.InvalidInteger.html> <i>class</i> InvalidInteger</a> </li><li><a href=django.contrib.gis.utils.layermapping.InvalidString.html> <i>class</i> InvalidString</a> </li><li><a href=django.contrib.gis.utils.layermapping.LayerMapError.html> <i>class</i> LayerMapError</a> </li><li><div class=select><a href=django.contrib.gis.utils.layermapping.LayerMapping.html> <i>class</i> LayerMapping</a> </div></li><li><a href=django.contrib.gis.utils.layermapping.MissingForeignKey.html> <i>class</i> MissingForeignKey</a> </li></ul></li><li><a href=django.contrib.gis.utils.ogrinfo.html>&#9656; ogrinfo</a> </li><li><a href=django.contrib.gis.utils.ogrinspect.html>&#9656; ogrinspect</a> </li><li><a href=django.contrib.gis.utils.srs.html>&#9656; srs</a> </li></ul></li><li><a href=django.contrib.gis.views.html>&#9656; views</a> </li></ul></li><li><a href=django.contrib.humanize.html>&#9656; humanize</a> </li><li><a href=django.contrib.messages.html>&#9656; messages</a> </li><li><a href=django.contrib.postgres.html>&#9656; postgres</a> </li><li><a href=django.contrib.redirects.html>&#9656; redirects</a> </li><li><a href=django.contrib.sessions.html>&#9656; sessions</a> </li><li><a href=django.contrib.sitemaps.html>&#9656; sitemaps</a> </li><li><a href=django.contrib.sites.html>&#9656; sites</a> </li><li><a href=django.contrib.staticfiles.html>&#9656; staticfiles</a> </li><li><a href=django.contrib.syndication.html>&#9656; syndication</a> </li></ul></li><li><a href=django.core.html>&#9656; core</a> </li><li><a href=django.db.html>&#9656; db</a> </li><li><a href=django.dispatch.html>&#9656; dispatch</a> </li><li><a href=django.forms.html>&#9656; forms</a> </li><li><a href=django.http.html>&#9656; http</a> </li><li><a href=django.middleware.html>&#9656; middleware</a> </li><li><a href=django.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.template.html>&#9656; template</a> </li><li><a href=django.templatetags.html>&#9656; templatetags</a> </li><li><a href=django.test.html>&#9656; test</a> </li><li><a href=django.urls.html>&#9656; urls</a> </li><li><a href=django.utils.html>&#9656; utils</a> </li><li><a href=django.views.html>&#9656; views</a> </li></ul></ul></div></div><div class="content pure-u-1 pure-u-md-3-4"><h1>Class LayerMapping</h1><div id=path><a class=symbol href=django.html>django</a>.<a class=symbol href=django.contrib.html>contrib</a>.<a class=symbol href=django.contrib.gis.html>gis</a>.<a class=symbol href=django.contrib.gis.utils.html>utils</a>.<a class=symbol href=django.contrib.gis.utils.layermapping.html>layermapping</a>.<a class=symbol href=django.contrib.gis.utils.layermapping.LayerMapping.html>LayerMapping</a></div><p><div class=docline> A class that maps OGR Layers to GeoDjango Models. </div></p><h2>Declaration</h2><div class=decl><span class=kw>class</span> LayerMapping</div><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-46>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html>link</a><h2>Documentation</h2><h2>Methods</h2><ul class=deflst><li><div class=fn><a id=f___init__></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f___init__>__init__</a>(<span class=args>self, model, data, mapping, layer=0, source_srs=None, encoding=&#39;utf-8&#39;, ...</span>) </span><div class=docline> A LayerMapping object is initialized using the given Model (not an instance), </div></div><div class=fdetail id=fn___init__><div class=decl><div class=def><span class=kw>def</span> __init__( <div class=args style="padding-left: 2em"><span class=kw>self</span>,</div><div class=args style="padding-left: 2em">model,</div><div class=args style="padding-left: 2em">data,</div><div class=args style="padding-left: 2em">mapping,</div><div class=args style="padding-left: 2em">layer=<i>0</i>,</div><div class=args style="padding-left: 2em">source_srs=<i>None</i>,</div><div class=args style="padding-left: 2em">encoding=<i>'utf-8'</i>,</div><div class=args style="padding-left: 2em">transaction_mode=<i>'commit_on_success'</i>,</div><div class=args style="padding-left: 2em">transform=<i>True</i>,</div><div class=args style="padding-left: 2em">unique=<i>None</i>,</div><div class=args style="padding-left: 2em">using=<i>None</i>,</div> ) </div></div><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-84>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f___init__>link</a></div><pre>a DataSource (or string path to an OGR-supported data file), and a mapping
dictionary.  See the module level docstring for more details and keyword
argument usage.</pre></div></div></li><li><div class=fn><a id=f_check_fid_range></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_fid_range>check_fid_range</a>(<span class=args>self, fid_range</span>) </span><div class=docline> Check the `fid_range` keyword. </div></div><div class=fdetail id=fn_check_fid_range><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-156>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_fid_range>link</a></div></div></div></li><li><div class=fn><a id=f_check_layer></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_layer>check_layer</a>(<span class=args>self</span>) </span><div class=docline> Check the Layer metadata and ensure that it&#39;s compatible with the mapping information and model. Unlike previous revisions, there is no need to increment through each feature in the Layer. </div></div><div class=fdetail id=fn_check_layer><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-168>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_layer>link</a></div></div></div></li><li><div class=fn><a id=f_check_srs></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_srs>check_srs</a>(<span class=args>self, source_srs</span>) </span><div class=docline> Check the compatibility of the given spatial reference object. </div></div><div class=fdetail id=fn_check_srs><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-265>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_srs>link</a></div></div></div></li><li><div class=fn><a id=f_check_unique></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_unique>check_unique</a>(<span class=args>self, unique</span>) </span><div class=docline> Check the `unique` keyword parameter -- may be a sequence or string. </div></div><div class=fdetail id=fn_check_unique><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-283>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_check_unique>link</a></div></div></div></li><li><div class=fn><a id=f_coord_transform></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_coord_transform>coord_transform</a>(<span class=args>self</span>) </span><div class=docline> Return the coordinate transformation object. </div></div><div class=fdetail id=fn_coord_transform><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-451>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_coord_transform>link</a></div></div></div></li><li><div class=fn><a id=f_feature_kwargs></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_feature_kwargs>feature_kwargs</a>(<span class=args>self, feat</span>) </span><div class=docline> Given an OGR Feature, return a dictionary of keyword arguments for constructing the mapped model. </div></div><div class=fdetail id=fn_feature_kwargs><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-298>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_feature_kwargs>link</a></div></div></div></li><li><div class=fn><a id=f_geometry_field></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_geometry_field>geometry_field</a>(<span class=args>self</span>) </span><div class=docline> Return the GeometryField instance associated with the geographic column. </div></div><div class=fdetail id=fn_geometry_field><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-465>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_geometry_field>link</a></div></div></div></li><li><div class=fn><a id=f_make_multi></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_make_multi>make_multi</a>(<span class=args>self, geom_type, model_field</span>) </span><div class=docline> Given the OGRGeomType for a geometry and its associated GeometryField, determine whether the geometry should be turned into a GeometryCollection. </div></div><div class=fdetail id=fn_make_multi><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-472>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_make_multi>link</a></div></div></div></li><li><div class=fn><a id=f_save></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_save>save</a>(<span class=args>self, verbose=False, fid_range=False, step=False, progress=False, ...</span>) </span><div class=docline> Save the contents from the OGR DataSource Layer into the database according to the mapping dictionary given at initialization. </div></div><div class=fdetail id=fn_save><div class=decl><div class=def><span class=kw>def</span> save( <div class=args style="padding-left: 2em"><span class=kw>self</span>,</div><div class=args style="padding-left: 2em">verbose=<i>False</i>,</div><div class=args style="padding-left: 2em">fid_range=<i>False</i>,</div><div class=args style="padding-left: 2em">step=<i>False</i>,</div><div class=args style="padding-left: 2em">progress=<i>False</i>,</div><div class=args style="padding-left: 2em">silent=<i>False</i>,</div><div class=args style="padding-left: 2em">stream=<i>sys.stdout</i>,</div><div class=args style="padding-left: 2em">strict=<i>False</i>,</div> ) </div></div><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-480>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_save>link</a></div><pre>Keyword Parameters:
 verbose:
   If set, information will be printed subsequent to each model save
   executed on the database.

 fid_range:
   May be set with a slice or tuple of (begin, end) feature ID&#39;s to map
   from the data source.  In other words, this keyword enables the user
   to selectively import a subset range of features in the geographic
   data source.

 step:
   If set with an integer, transactions will occur at every step
   interval. For example, if step=1000, a commit would occur after
   the 1,000th feature, the 2,000th feature etc.

 progress:
   When this keyword is set, status information will be printed giving
   the number of features processed and successfully saved.  By default,
   progress information will pe printed every 1000 features processed,
   however, this default may be overridden by setting this keyword with an
   integer for the desired interval.

 stream:
   Status information will be written to this file handle.  Defaults to
   using `sys.stdout`, but any object with a `write` method is supported.

 silent:
   By default, non-fatal error notifications are printed to stdout, but
   this keyword may be set to disable these notifications.

 strict:
   Execution of the model mapping will cease upon the first error
   encountered.  The default behavior is to attempt to continue.</pre></div></div></li><li><div class=fn><a id=f_unique_kwargs></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_unique_kwargs>unique_kwargs</a>(<span class=args>self, kwargs</span>) </span><div class=docline> Given the feature keyword arguments (from `feature_kwargs`), construct and return the uniqueness keyword arguments -- a subset of the feature kwargs. </div></div><div class=fdetail id=fn_unique_kwargs><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-331>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_unique_kwargs>link</a></div></div></div></li><li><div class=fn><a id=f_verify_fk></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_verify_fk>verify_fk</a>(<span class=args>self, feat, rel_model, rel_mapping</span>) </span><div class=docline> Given an OGR Feature, the related model and its dictionary mapping, retrieve the related model for the ForeignKey mapping. </div></div><div class=fdetail id=fn_verify_fk><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-400>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_verify_fk>link</a></div></div></div></li><li><div class=fn><a id=f_verify_geom></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_verify_geom>verify_geom</a>(<span class=args>self, geom, model_field</span>) </span><div class=docline> Verify the geometry -- construct and return a GeometryCollection if necessary (for example if the model field is MultiPolygonField while the mapped shapefile only contains Polygons). </div></div><div class=fdetail id=fn_verify_geom><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-423>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_verify_geom>link</a></div></div></div></li><li><div class=fn><a id=f_verify_ogr_field></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_verify_ogr_field>verify_ogr_field</a>(<span class=args>self, ogr_field, model_field</span>) </span><div class=docline> Verify if the OGR Field contents are acceptable to the model field. If they are, return the verified value, otherwise raise an exception. </div></div><div class=fdetail id=fn_verify_ogr_field><div class=idnt><a class=sourcelink href=source+django.contrib.gis.utils.layermapping.py.html#line-343>source</a> <a class=sourcelink href=django.contrib.gis.utils.layermapping.LayerMapping.html#f_verify_ogr_field>link</a></div></div></div></li></ul><p class=footer> Generated by <a href=https://github.com/spirali/nedoc>nedoc</a> v0.9 at 2020-12-29 14:04 </p></div></div></body></html>