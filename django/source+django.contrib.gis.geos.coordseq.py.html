<!DOCTYPE html><html><head><meta charset=utf-8><title>django.contrib.gis.geos.coordseq</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=./assets/purecss/pure-min.css><link rel=stylesheet href=./assets/purecss/grids-responsive-min.css><link rel=stylesheet href=./assets/style.css><link rel=stylesheet href=./assets/pygments/default.css><link rel=stylesheet href=./assets/jquery/jquery-ui.min.css><script src=./assets/jquery/jquery-3.0.0.min.js></script><script src=./assets/jquery/jquery-ui.min.js></script><script src=nedoc.js></script></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-1-4"><div class=header><h1 class=brand-title>Django</h1> 1.0 </div><div id=sbox><input id=search style="color: black;" placeholder="search ..."></div><div class=tree><ul><li><a href=django.html>&#9662; django</a> </li><li><ul><li><a href=django.__main__.html>&#9656; __main__</a> </li><li><a href=django.apps.html>&#9656; apps</a> </li><li><a href=django.bin.html>&#9656; bin</a> </li><li><a href=django.conf.html>&#9656; conf</a> </li><li><a href=django.contrib.html>&#9662; contrib</a> </li><li><ul><li><a href=django.contrib.admin.html>&#9656; admin</a> </li><li><a href=django.contrib.admindocs.html>&#9656; admindocs</a> </li><li><a href=django.contrib.auth.html>&#9656; auth</a> </li><li><a href=django.contrib.contenttypes.html>&#9656; contenttypes</a> </li><li><a href=django.contrib.flatpages.html>&#9656; flatpages</a> </li><li><a href=django.contrib.gis.html>&#9662; gis</a> </li><li><ul><li><a href=django.contrib.gis.admin.html>&#9656; admin</a> </li><li><a href=django.contrib.gis.apps.html>&#9656; apps</a> </li><li><a href=django.contrib.gis.db.html>&#9656; db</a> </li><li><a href=django.contrib.gis.feeds.html>&#9656; feeds</a> </li><li><a href=django.contrib.gis.forms.html>&#9656; forms</a> </li><li><a href=django.contrib.gis.gdal.html>&#9656; gdal</a> </li><li><a href=django.contrib.gis.geoip2.html>&#9656; geoip2</a> </li><li><a href=django.contrib.gis.geometry.html>&#9656; geometry</a> </li><li><a href=django.contrib.gis.geos.html>&#9662; geos</a> </li><li><ul><li><a href=django.contrib.gis.geos.base.html>&#9656; base</a> </li><li><a href=django.contrib.gis.geos.collections.html>&#9656; collections</a> </li><li><div class=select><a href=django.contrib.gis.geos.coordseq.html>&#9662; coordseq</a> </div></li><li><ul><li><a href=django.contrib.gis.geos.coordseq.GEOSCoordSeq.html> <i>class</i> GEOSCoordSeq</a> </li></ul></li><li><a href=django.contrib.gis.geos.error.html>&#9656; error</a> </li><li><a href=django.contrib.gis.geos.factory.html>&#9656; factory</a> </li><li><a href=django.contrib.gis.geos.geometry.html>&#9656; geometry</a> </li><li><a href=django.contrib.gis.geos.io.html>&#9656; io</a> </li><li><a href=django.contrib.gis.geos.libgeos.html>&#9656; libgeos</a> </li><li><a href=django.contrib.gis.geos.linestring.html>&#9656; linestring</a> </li><li><a href=django.contrib.gis.geos.mutable_list.html>&#9656; mutable_list</a> </li><li><a href=django.contrib.gis.geos.point.html>&#9656; point</a> </li><li><a href=django.contrib.gis.geos.polygon.html>&#9656; polygon</a> </li><li><a href=django.contrib.gis.geos.prepared.html>&#9656; prepared</a> </li><li><a href=django.contrib.gis.geos.prototypes.html>&#9656; prototypes</a> </li></ul></li><li><a href=django.contrib.gis.management.html>&#9656; management</a> </li><li><a href=django.contrib.gis.measure.html>&#9656; measure</a> </li><li><a href=django.contrib.gis.ptr.html>&#9656; ptr</a> </li><li><a href=django.contrib.gis.serializers.html>&#9656; serializers</a> </li><li><a href=django.contrib.gis.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.contrib.gis.sitemaps.html>&#9656; sitemaps</a> </li><li><a href=django.contrib.gis.utils.html>&#9656; utils</a> </li><li><a href=django.contrib.gis.views.html>&#9656; views</a> </li></ul></li><li><a href=django.contrib.humanize.html>&#9656; humanize</a> </li><li><a href=django.contrib.messages.html>&#9656; messages</a> </li><li><a href=django.contrib.postgres.html>&#9656; postgres</a> </li><li><a href=django.contrib.redirects.html>&#9656; redirects</a> </li><li><a href=django.contrib.sessions.html>&#9656; sessions</a> </li><li><a href=django.contrib.sitemaps.html>&#9656; sitemaps</a> </li><li><a href=django.contrib.sites.html>&#9656; sites</a> </li><li><a href=django.contrib.staticfiles.html>&#9656; staticfiles</a> </li><li><a href=django.contrib.syndication.html>&#9656; syndication</a> </li></ul></li><li><a href=django.core.html>&#9656; core</a> </li><li><a href=django.db.html>&#9656; db</a> </li><li><a href=django.dispatch.html>&#9656; dispatch</a> </li><li><a href=django.forms.html>&#9656; forms</a> </li><li><a href=django.http.html>&#9656; http</a> </li><li><a href=django.middleware.html>&#9656; middleware</a> </li><li><a href=django.shortcuts.html>&#9656; shortcuts</a> </li><li><a href=django.template.html>&#9656; template</a> </li><li><a href=django.templatetags.html>&#9656; templatetags</a> </li><li><a href=django.test.html>&#9656; test</a> </li><li><a href=django.urls.html>&#9656; urls</a> </li><li><a href=django.utils.html>&#9656; utils</a> </li><li><a href=django.views.html>&#9656; views</a> </li></ul></ul></div></div><div class="content pure-u-1 pure-u-md-3-4"><h1>Source code django/contrib/gis/geos/coordseq.py</h1><div id=path><a class=symbol href=django.html>django</a>.<a class=symbol href=django.contrib.html>contrib</a>.<a class=symbol href=django.contrib.gis.html>gis</a>.<a class=symbol href=django.contrib.gis.geos.html>geos</a>.<a class=symbol href=django.contrib.gis.geos.coordseq.html>coordseq</a></div><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216</pre></div></td><td class=code><div class=highlight><pre><span></span><a name=line-1></a><span class=sd>&quot;&quot;&quot;</span>
<a name=line-2></a><span class=sd> This module houses the GEOSCoordSeq object, which is used internally</span>
<a name=line-3></a><span class=sd> by GEOSGeometry to house the actual coordinates of the Point,</span>
<a name=line-4></a><span class=sd> LineString, and LinearRing geometries.</span>
<a name=line-5></a><span class=sd>&quot;&quot;&quot;</span>
<a name=line-6></a><span class=kn>from</span> <span class=nn>ctypes</span> <span class=kn>import</span> <span class=n>byref</span><span class=p>,</span> <span class=n>c_byte</span><span class=p>,</span> <span class=n>c_double</span><span class=p>,</span> <span class=n>c_uint</span>
<a name=line-7></a>
<a name=line-8></a><span class=kn>from</span> <span class=nn>django.contrib.gis.geos</span> <span class=kn>import</span> <span class=n>prototypes</span> <span class=k>as</span> <span class=n>capi</span>
<a name=line-9></a><span class=kn>from</span> <span class=nn>django.contrib.gis.geos.base</span> <span class=kn>import</span> <span class=n>GEOSBase</span>
<a name=line-10></a><span class=kn>from</span> <span class=nn>django.contrib.gis.geos.error</span> <span class=kn>import</span> <span class=n>GEOSException</span>
<a name=line-11></a><span class=kn>from</span> <span class=nn>django.contrib.gis.geos.libgeos</span> <span class=kn>import</span> <span class=n>CS_PTR</span><span class=p>,</span> <span class=n>geos_version_tuple</span>
<a name=line-12></a><span class=kn>from</span> <span class=nn>django.contrib.gis.shortcuts</span> <span class=kn>import</span> <span class=n>numpy</span>
<a name=line-13></a>
<a name=line-14></a>
<a name=line-15></a><span class=k>class</span> <span class=nc>GEOSCoordSeq</span><span class=p>(</span><span class=n>GEOSBase</span><span class=p>):</span>
<a name=line-16></a>    <span class=s2>&quot;The internal representation of a list of coordinates inside a Geometry.&quot;</span>
<a name=line-17></a>
<a name=line-18></a>    <span class=n>ptr_type</span> <span class=o>=</span> <span class=n>CS_PTR</span>
<a name=line-19></a>
<a name=line-20></a>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ptr</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<a name=line-21></a>        <span class=s2>&quot;Initialize from a GEOS pointer.&quot;</span>
<a name=line-22></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>ptr</span><span class=p>,</span> <span class=n>CS_PTR</span><span class=p>):</span>
<a name=line-23></a>            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Coordinate sequence should initialize with a CS_PTR.&#39;</span><span class=p>)</span>
<a name=line-24></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_ptr</span> <span class=o>=</span> <span class=n>ptr</span>
<a name=line-25></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_z</span> <span class=o>=</span> <span class=n>z</span>
<a name=line-26></a>
<a name=line-27></a>    <span class=k>def</span> <span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-28></a>        <span class=s2>&quot;Iterate over each point in the coordinate sequence.&quot;</span>
<a name=line-29></a>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>):</span>
<a name=line-30></a>            <span class=k>yield</span> <span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
<a name=line-31></a>
<a name=line-32></a>    <span class=k>def</span> <span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-33></a>        <span class=s2>&quot;Return the number of points in the coordinate sequence.&quot;</span>
<a name=line-34></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span>
<a name=line-35></a>
<a name=line-36></a>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-37></a>        <span class=s2>&quot;Return the string representation of the coordinate sequence.&quot;</span>
<a name=line-38></a>        <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>tuple</span><span class=p>)</span>
<a name=line-39></a>
<a name=line-40></a>    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-41></a>        <span class=s2>&quot;Return the coordinate sequence value at the given index.&quot;</span>
<a name=line-42></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_checkindex</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<a name=line-43></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_point_getter</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<a name=line-44></a>
<a name=line-45></a>    <span class=k>def</span> <span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-46></a>        <span class=s2>&quot;Set the coordinate sequence value at the given index.&quot;</span>
<a name=line-47></a>        <span class=c1># Checking the input value</span>
<a name=line-48></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)):</span>
<a name=line-49></a>            <span class=k>pass</span>
<a name=line-50></a>        <span class=k>elif</span> <span class=n>numpy</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>numpy</span><span class=o>.</span><span class=n>ndarray</span><span class=p>):</span>
<a name=line-51></a>            <span class=k>pass</span>
<a name=line-52></a>        <span class=k>else</span><span class=p>:</span>
<a name=line-53></a>            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Must set coordinate with a sequence (list, tuple, or numpy array).&#39;</span><span class=p>)</span>
<a name=line-54></a>        <span class=c1># Checking the dims of the input</span>
<a name=line-55></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>dims</span> <span class=o>==</span> <span class=mi>3</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_z</span><span class=p>:</span>
<a name=line-56></a>            <span class=n>n_args</span> <span class=o>=</span> <span class=mi>3</span>
<a name=line-57></a>            <span class=n>point_setter</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_set_point_3d</span>
<a name=line-58></a>        <span class=k>else</span><span class=p>:</span>
<a name=line-59></a>            <span class=n>n_args</span> <span class=o>=</span> <span class=mi>2</span>
<a name=line-60></a>            <span class=n>point_setter</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_set_point_2d</span>
<a name=line-61></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>!=</span> <span class=n>n_args</span><span class=p>:</span>
<a name=line-62></a>            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Dimension of value does not match.&#39;</span><span class=p>)</span>
<a name=line-63></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_checkindex</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<a name=line-64></a>        <span class=n>point_setter</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-65></a>
<a name=line-66></a>    <span class=c1># #### Internal Routines ####</span>
<a name=line-67></a>    <span class=k>def</span> <span class=nf>_checkindex</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-68></a>        <span class=s2>&quot;Check the given index.&quot;</span>
<a name=line-69></a>        <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span><span class=p>):</span>
<a name=line-70></a>            <span class=k>raise</span> <span class=ne>IndexError</span><span class=p>(</span><span class=s1>&#39;invalid GEOS Geometry index: </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>index</span><span class=p>)</span>
<a name=line-71></a>
<a name=line-72></a>    <span class=k>def</span> <span class=nf>_checkdim</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dim</span><span class=p>):</span>
<a name=line-73></a>        <span class=s2>&quot;Check the given dimension.&quot;</span>
<a name=line-74></a>        <span class=k>if</span> <span class=n>dim</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>dim</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>:</span>
<a name=line-75></a>            <span class=k>raise</span> <span class=n>GEOSException</span><span class=p>(</span><span class=s1>&#39;invalid ordinate dimension &quot;</span><span class=si>%d</span><span class=s1>&quot;&#39;</span> <span class=o>%</span> <span class=n>dim</span><span class=p>)</span>
<a name=line-76></a>
<a name=line-77></a>    <span class=k>def</span> <span class=nf>_get_x</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-78></a>        <span class=k>return</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_getx</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>c_double</span><span class=p>()))</span>
<a name=line-79></a>
<a name=line-80></a>    <span class=k>def</span> <span class=nf>_get_y</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-81></a>        <span class=k>return</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_gety</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>c_double</span><span class=p>()))</span>
<a name=line-82></a>
<a name=line-83></a>    <span class=k>def</span> <span class=nf>_get_z</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-84></a>        <span class=k>return</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_getz</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>c_double</span><span class=p>()))</span>
<a name=line-85></a>
<a name=line-86></a>    <span class=k>def</span> <span class=nf>_set_x</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-87></a>        <span class=n>capi</span><span class=o>.</span><span class=n>cs_setx</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-88></a>
<a name=line-89></a>    <span class=k>def</span> <span class=nf>_set_y</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-90></a>        <span class=n>capi</span><span class=o>.</span><span class=n>cs_sety</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-91></a>
<a name=line-92></a>    <span class=k>def</span> <span class=nf>_set_z</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-93></a>        <span class=n>capi</span><span class=o>.</span><span class=n>cs_setz</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-94></a>
<a name=line-95></a>    <span class=nd>@property</span>
<a name=line-96></a>    <span class=k>def</span> <span class=nf>_point_getter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-97></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_point_3d</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>dims</span> <span class=o>==</span> <span class=mi>3</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_z</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_point_2d</span>
<a name=line-98></a>
<a name=line-99></a>    <span class=k>def</span> <span class=nf>_get_point_2d</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-100></a>        <span class=k>return</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_get_x</span><span class=p>(</span><span class=n>index</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_y</span><span class=p>(</span><span class=n>index</span><span class=p>))</span>
<a name=line-101></a>
<a name=line-102></a>    <span class=k>def</span> <span class=nf>_get_point_3d</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-103></a>        <span class=k>return</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_get_x</span><span class=p>(</span><span class=n>index</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_y</span><span class=p>(</span><span class=n>index</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_z</span><span class=p>(</span><span class=n>index</span><span class=p>))</span>
<a name=line-104></a>
<a name=line-105></a>    <span class=k>def</span> <span class=nf>_set_point_2d</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-106></a>        <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>value</span>
<a name=line-107></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_set_x</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
<a name=line-108></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_set_y</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
<a name=line-109></a>
<a name=line-110></a>    <span class=k>def</span> <span class=nf>_set_point_3d</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-111></a>        <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=n>value</span>
<a name=line-112></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_set_x</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
<a name=line-113></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_set_y</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
<a name=line-114></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_set_z</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>
<a name=line-115></a>
<a name=line-116></a>    <span class=c1># #### Ordinate getting and setting routines ####</span>
<a name=line-117></a>    <span class=k>def</span> <span class=nf>getOrdinate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dimension</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-118></a>        <span class=s2>&quot;Return the value for the given dimension and index.&quot;</span>
<a name=line-119></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_checkindex</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<a name=line-120></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_checkdim</span><span class=p>(</span><span class=n>dimension</span><span class=p>)</span>
<a name=line-121></a>        <span class=k>return</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_getordinate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>dimension</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>c_double</span><span class=p>()))</span>
<a name=line-122></a>
<a name=line-123></a>    <span class=k>def</span> <span class=nf>setOrdinate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dimension</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-124></a>        <span class=s2>&quot;Set the value for the given dimension and index.&quot;</span>
<a name=line-125></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_checkindex</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
<a name=line-126></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_checkdim</span><span class=p>(</span><span class=n>dimension</span><span class=p>)</span>
<a name=line-127></a>        <span class=n>capi</span><span class=o>.</span><span class=n>cs_setordinate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>dimension</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-128></a>
<a name=line-129></a>    <span class=k>def</span> <span class=nf>getX</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-130></a>        <span class=s2>&quot;Get the X value at the index.&quot;</span>
<a name=line-131></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>getOrdinate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span>
<a name=line-132></a>
<a name=line-133></a>    <span class=k>def</span> <span class=nf>setX</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-134></a>        <span class=s2>&quot;Set X with the value at the given index.&quot;</span>
<a name=line-135></a>        <span class=bp>self</span><span class=o>.</span><span class=n>setOrdinate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-136></a>
<a name=line-137></a>    <span class=k>def</span> <span class=nf>getY</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-138></a>        <span class=s2>&quot;Get the Y value at the given index.&quot;</span>
<a name=line-139></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>getOrdinate</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span>
<a name=line-140></a>
<a name=line-141></a>    <span class=k>def</span> <span class=nf>setY</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-142></a>        <span class=s2>&quot;Set Y with the value at the given index.&quot;</span>
<a name=line-143></a>        <span class=bp>self</span><span class=o>.</span><span class=n>setOrdinate</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-144></a>
<a name=line-145></a>    <span class=k>def</span> <span class=nf>getZ</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<a name=line-146></a>        <span class=s2>&quot;Get Z with the value at the given index.&quot;</span>
<a name=line-147></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>getOrdinate</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span>
<a name=line-148></a>
<a name=line-149></a>    <span class=k>def</span> <span class=nf>setZ</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<a name=line-150></a>        <span class=s2>&quot;Set Z with the value at the given index.&quot;</span>
<a name=line-151></a>        <span class=bp>self</span><span class=o>.</span><span class=n>setOrdinate</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a name=line-152></a>
<a name=line-153></a>    <span class=c1># ### Dimensions ###</span>
<a name=line-154></a>    <span class=nd>@property</span>
<a name=line-155></a>    <span class=k>def</span> <span class=nf>size</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-156></a>        <span class=s2>&quot;Return the size of this coordinate sequence.&quot;</span>
<a name=line-157></a>        <span class=k>return</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_getsize</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>c_uint</span><span class=p>()))</span>
<a name=line-158></a>
<a name=line-159></a>    <span class=nd>@property</span>
<a name=line-160></a>    <span class=k>def</span> <span class=nf>dims</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-161></a>        <span class=s2>&quot;Return the dimensions of this coordinate sequence.&quot;</span>
<a name=line-162></a>        <span class=k>return</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_getdims</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>c_uint</span><span class=p>()))</span>
<a name=line-163></a>
<a name=line-164></a>    <span class=nd>@property</span>
<a name=line-165></a>    <span class=k>def</span> <span class=nf>hasz</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-166></a>        <span class=sd>&quot;&quot;&quot;</span>
<a name=line-167></a><span class=sd>        Return whether this coordinate sequence is 3D. This property value is</span>
<a name=line-168></a><span class=sd>        inherited from the parent Geometry.</span>
<a name=line-169></a><span class=sd>        &quot;&quot;&quot;</span>
<a name=line-170></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_z</span>
<a name=line-171></a>
<a name=line-172></a>    <span class=c1># ### Other Methods ###</span>
<a name=line-173></a>    <span class=k>def</span> <span class=nf>clone</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-174></a>        <span class=s2>&quot;Clone this coordinate sequence.&quot;</span>
<a name=line-175></a>        <span class=k>return</span> <span class=n>GEOSCoordSeq</span><span class=p>(</span><span class=n>capi</span><span class=o>.</span><span class=n>cs_clone</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>hasz</span><span class=p>)</span>
<a name=line-176></a>
<a name=line-177></a>    <span class=nd>@property</span>
<a name=line-178></a>    <span class=k>def</span> <span class=nf>kml</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-179></a>        <span class=s2>&quot;Return the KML representation for the coordinates.&quot;</span>
<a name=line-180></a>        <span class=c1># Getting the substitution string depending on whether the coordinates have</span>
<a name=line-181></a>        <span class=c1>#  a Z dimension.</span>
<a name=line-182></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>hasz</span><span class=p>:</span>
<a name=line-183></a>            <span class=n>substr</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=si>%s</span><span class=s1>,</span><span class=si>%s</span><span class=s1>,</span><span class=si>%s</span><span class=s1> &#39;</span>
<a name=line-184></a>        <span class=k>else</span><span class=p>:</span>
<a name=line-185></a>            <span class=n>substr</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=si>%s</span><span class=s1>,</span><span class=si>%s</span><span class=s1>,0 &#39;</span>
<a name=line-186></a>        <span class=k>return</span> <span class=s1>&#39;&lt;coordinates&gt;</span><span class=si>%s</span><span class=s1>&lt;/coordinates&gt;&#39;</span> <span class=o>%</span> \
<a name=line-187></a>            <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>substr</span> <span class=o>%</span> <span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)))</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<a name=line-188></a>
<a name=line-189></a>    <span class=nd>@property</span>
<a name=line-190></a>    <span class=k>def</span> <span class=nf>tuple</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-191></a>        <span class=s2>&quot;Return a tuple version of this coordinate sequence.&quot;</span>
<a name=line-192></a>        <span class=n>n</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>size</span>
<a name=line-193></a>        <span class=n>get_point</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_point_getter</span>
<a name=line-194></a>        <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
<a name=line-195></a>            <span class=k>return</span> <span class=n>get_point</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<a name=line-196></a>        <span class=k>return</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>get_point</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>))</span>
<a name=line-197></a>
<a name=line-198></a>    <span class=nd>@property</span>
<a name=line-199></a>    <span class=k>def</span> <span class=nf>is_counterclockwise</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<a name=line-200></a>        <span class=sd>&quot;&quot;&quot;Return whether this coordinate sequence is counterclockwise.&quot;&quot;&quot;</span>
<a name=line-201></a>        <span class=k>if</span> <span class=n>geos_version_tuple</span><span class=p>()</span> <span class=o>&lt;</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>7</span><span class=p>):</span>
<a name=line-202></a>            <span class=c1># A modified shoelace algorithm to determine polygon orientation.</span>
<a name=line-203></a>            <span class=c1># See https://en.wikipedia.org/wiki/Shoelace_formula.</span>
<a name=line-204></a>            <span class=n>area</span> <span class=o>=</span> <span class=mf>0.0</span>
<a name=line-205></a>            <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
<a name=line-206></a>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<a name=line-207></a>                <span class=n>j</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>n</span>
<a name=line-208></a>                <span class=n>area</span> <span class=o>+=</span> <span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=bp>self</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span>
<a name=line-209></a>                <span class=n>area</span> <span class=o>-=</span> <span class=bp>self</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span>
<a name=line-210></a>            <span class=k>return</span> <span class=n>area</span> <span class=o>&gt;</span> <span class=mf>0.0</span>
<a name=line-211></a>        <span class=n>ret</span> <span class=o>=</span> <span class=n>c_byte</span><span class=p>()</span>
<a name=line-212></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_is_ccw</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ptr</span><span class=p>,</span> <span class=n>byref</span><span class=p>(</span><span class=n>ret</span><span class=p>)):</span>
<a name=line-213></a>            <span class=k>raise</span> <span class=n>GEOSException</span><span class=p>(</span>
<a name=line-214></a>                <span class=s1>&#39;Error encountered in GEOS C function &quot;</span><span class=si>%s</span><span class=s1>&quot;.&#39;</span> <span class=o>%</span> <span class=n>capi</span><span class=o>.</span><span class=n>cs_is_ccw</span><span class=o>.</span><span class=n>func_name</span>
<a name=line-215></a>            <span class=p>)</span>
<a name=line-216></a>        <span class=k>return</span> <span class=n>ret</span><span class=o>.</span><span class=n>value</span> <span class=o>==</span> <span class=mi>1</span>
</pre></div></td></tr></table><p class=footer> Generated by <a href=https://github.com/spirali/nedoc>nedoc</a> v0.9 at 2020-12-29 14:04 </p></div></div></body></html>