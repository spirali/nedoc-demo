<!DOCTYPE html><html><head><meta charset=utf-8><title>distributed.client.as_completed</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=./assets/purecss/pure-min.css><link rel=stylesheet href=./assets/purecss/grids-responsive-min.css><link rel=stylesheet href=./assets/style.css><link rel=stylesheet href=./assets/pygments/default.css><link rel=stylesheet href=./assets/jquery/jquery-ui.min.css><script src=./assets/jquery/jquery-3.0.0.min.js></script><script src=./assets/jquery/jquery-ui.min.js></script><script src=nedoc.js></script></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-1-4"><div class=header><h1 class=brand-title>Distributed</h1> 1.0 </div><div id=sbox><input id=search style="color: black;" placeholder="search ..."></div><div class=tree><ul><li><a href=distributed.html>&#9662; distributed</a> </li><li><ul><li><a href=distributed.actor.html>&#9656; actor</a> </li><li><a href=distributed.asyncio.html>&#9656; asyncio</a> </li><li><a href=distributed.batched.html>&#9656; batched</a> </li><li><a href=distributed.bokeh.html>&#9656; bokeh</a> </li><li><a href=distributed.cfexecutor.html>&#9656; cfexecutor</a> </li><li><a href=distributed.cli.html>&#9656; cli</a> </li><li><a href=distributed.client.html>&#9662; client</a> </li><li><ul><li><a href=distributed.client.AllExit.html> <i>class</i> AllExit</a> </li><li><a href=distributed.client.Client.html> <i>class</i> Client</a> </li><li><a href=distributed.client.Executor.html> <i>class</i> Executor</a> </li><li><a href=distributed.client.Future.html> <i>class</i> Future</a> </li><li><a href=distributed.client.FutureState.html> <i>class</i> FutureState</a> </li><li><div class=select><a href=distributed.client.as_completed.html> <i>class</i> as_completed</a> </div></li><li><a href=distributed.client.get_task_metadata.html> <i>class</i> get_task_metadata</a> </li><li><a href=distributed.client.get_task_stream.html> <i>class</i> get_task_stream</a> </li><li><a href=distributed.client.performance_report.html> <i>class</i> performance_report</a> </li></ul></li><li><a href=distributed.comm.html>&#9656; comm</a> </li><li><a href=distributed.compatibility.html>&#9656; compatibility</a> </li><li><a href=distributed.config.html>&#9656; config</a> </li><li><a href=distributed.core.html>&#9656; core</a> </li><li><a href=distributed.counter.html>&#9656; counter</a> </li><li><a href=distributed.dashboard.html>&#9656; dashboard</a> </li><li><a href=distributed.deploy.html>&#9656; deploy</a> </li><li><a href=distributed.diagnostics.html>&#9656; diagnostics</a> </li><li><a href=distributed.diskutils.html>&#9656; diskutils</a> </li><li><a href=distributed.event.html>&#9656; event</a> </li><li><a href=distributed.http.html>&#9656; http</a> </li><li><a href=distributed.lock.html>&#9656; lock</a> </li><li><a href=distributed.locket.html>&#9656; locket</a> </li><li><a href=distributed.metrics.html>&#9656; metrics</a> </li><li><a href=distributed.nanny.html>&#9656; nanny</a> </li><li><a href=distributed.node.html>&#9656; node</a> </li><li><a href=distributed.preloading.html>&#9656; preloading</a> </li><li><a href=distributed.process.html>&#9656; process</a> </li><li><a href=distributed.proctitle.html>&#9656; proctitle</a> </li><li><a href=distributed.profile.html>&#9656; profile</a> </li><li><a href=distributed.protocol.html>&#9656; protocol</a> </li><li><a href=distributed.publish.html>&#9656; publish</a> </li><li><a href=distributed.pubsub.html>&#9656; pubsub</a> </li><li><a href=distributed.pytest_resourceleaks.html>&#9656; pytest_resourceleaks</a> </li><li><a href=distributed.queues.html>&#9656; queues</a> </li><li><a href=distributed.recreate_exceptions.html>&#9656; recreate_exceptions</a> </li><li><a href=distributed.scheduler.html>&#9656; scheduler</a> </li><li><a href=distributed.security.html>&#9656; security</a> </li><li><a href=distributed.semaphore.html>&#9656; semaphore</a> </li><li><a href=distributed.sizeof.html>&#9656; sizeof</a> </li><li><a href=distributed.stealing.html>&#9656; stealing</a> </li><li><a href=distributed.system.html>&#9656; system</a> </li><li><a href=distributed.system_monitor.html>&#9656; system_monitor</a> </li><li><a href=distributed.tests.html>&#9656; tests</a> </li><li><a href=distributed.threadpoolexecutor.html>&#9656; threadpoolexecutor</a> </li><li><a href=distributed.utils.html>&#9656; utils</a> </li><li><a href=distributed.utils_comm.html>&#9656; utils_comm</a> </li><li><a href=distributed.utils_perf.html>&#9656; utils_perf</a> </li><li><a href=distributed.utils_test.html>&#9656; utils_test</a> </li><li><a href=distributed.variable.html>&#9656; variable</a> </li><li><a href=distributed.versions.html>&#9656; versions</a> </li><li><a href=distributed.worker.html>&#9656; worker</a> </li><li><a href=distributed.worker_client.html>&#9656; worker_client</a> </li></ul></ul></div></div><div class="content pure-u-1 pure-u-md-3-4"><h1>Class as_completed</h1><div id=path><a class=symbol href=distributed.html>distributed</a>.<a class=symbol href=distributed.client.html>client</a>.<a class=symbol href=distributed.client.as_completed.html>as_completed</a></div><p><div class=docline> Return futures in the order in which they complete </div></p><h2>Declaration</h2><div class=decl><span class=kw>class</span> as_completed</div><a class=sourcelink href=source+distributed.client.py.html#line-4257>source</a> <a class=sourcelink href=distributed.client.as_completed.html>link</a><h2>Documentation</h2><pre>This returns an iterator that yields the input future objects in the order
in which they complete.  Calling ``next`` on the iterator will block until
the next future completes, irrespective of order.

Additionally, you can also add more futures to this object during
computation with the ``.add`` method</pre><h3>Attributes</h3><ul class=params><li><strong>futures</strong> : Collection of futures <br><pre>A list of Future objects to be iterated over in the order in which they
complete</pre></li><li><strong>with_results</strong> : bool (False) <br><pre>Whether to wait and include results of futures as well;
in this case `as_completed` yields a tuple of (future, result)</pre></li><li><strong>raise_errors</strong> : bool (True) <br><pre>Whether we should raise when the result of a future raises an exception;
only affects behavior when `with_results=True`.</pre></li></ul><h3>Examples</h3><pre>&gt;&gt;&gt; x, y, z = client.map(inc, [1, 2, 3])  # doctest: +SKIP
&gt;&gt;&gt; for future in as_completed([x, y, z]):  # doctest: +SKIP
...     print(future.result())  # doctest: +SKIP
3
2
4

Add more futures during computation

&gt;&gt;&gt; x, y, z = client.map(inc, [1, 2, 3])  # doctest: +SKIP
&gt;&gt;&gt; ac = as_completed([x, y, z])  # doctest: +SKIP
&gt;&gt;&gt; for future in ac:  # doctest: +SKIP
...     print(future.result())  # doctest: +SKIP
...     if random.random() &lt; 0.5:  # doctest: +SKIP
...         ac.add(c.submit(double, future))  # doctest: +SKIP
4
2
8
3
6
12
24

Optionally wait until the result has been gathered as well

&gt;&gt;&gt; ac = as_completed([x, y, z], with_results=True)  # doctest: +SKIP
&gt;&gt;&gt; for future, result in ac:  # doctest: +SKIP
...     print(result)  # doctest: +SKIP
2
4
3</pre><h2>Methods</h2><ul class=deflst><li><div class=fn><a id=f___aiter__></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.client.as_completed.html#f___aiter__>__aiter__</a>(<span class=args>self</span>) </span></div><div class=fdetail id=fn___aiter__><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4405>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f___aiter__>link</a></div></div></div></li><li><div class=fn><a id=f___init__></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.client.as_completed.html#f___init__>__init__</a>(<span class=args>self, futures=None, loop=None, with_results=False, raise_errors=True</span>) </span></div><div class=fdetail id=fn___init__><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4315>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f___init__>link</a></div></div></div></li><li><div class=fn><a id=f___iter__></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.client.as_completed.html#f___iter__>__iter__</a>(<span class=args>self</span>) </span></div><div class=fdetail id=fn___iter__><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4402>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f___iter__>link</a></div></div></div></li><li><div class=fn><a id=f___next__></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.client.as_completed.html#f___next__>__next__</a>(<span class=args>self</span>) </span></div><div class=fdetail id=fn___next__><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4417>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f___next__>link</a></div></div></div></li><li><div class=fn><a id=f___repr__></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.client.as_completed.html#f___repr__>__repr__</a>(<span class=args>self</span>) </span></div><div class=fdetail id=fn___repr__><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4397>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f___repr__>link</a></div></div></div></li><li><div class=fn><a id=f_add></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_add>add</a>(<span class=args>self, future</span>) </span><div class=docline> Add a future to the collection </div></div><div class=fdetail id=fn_add><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4372>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_add>link</a></div><pre>This future will emit from the iterator once it finishes</pre></div></div></li><li><div class=fn><a id=f_batches></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_batches>batches</a>(<span class=args>self</span>) </span><div class=docline> Yield all finished futures at once rather than one-by-one </div></div><div class=fdetail id=fn_batches><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4468>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_batches>link</a></div><pre>This returns an iterator of lists of futures or lists of
(future, result) tuples rather than individual futures or individual
(future, result) tuples.  It will yield these as soon as possible
without waiting.</pre><h3>Examples</h3><pre>&gt;&gt;&gt; for batch in as_completed(futures).batches():  # doctest: +SKIP
...     results = client.gather(batch)
...     print(results)
[4, 2]
[1, 3, 7]
[5]
[6]</pre></div></div></li><li><div class=fn><a id=f_clear></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_clear>clear</a>(<span class=args>self</span>) </span><div class=docline> Clear out all submitted futures </div></div><div class=fdetail id=fn_clear><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4493>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_clear>link</a></div></div></div></li><li><div class=fn><a id=f_condition></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.client.as_completed.html#f_condition>condition</a>(<span class=args>self</span>) <span class=label>@property</span></span></div><div class=fdetail id=fn_condition><div class=decl><div class=def><i> @property<br></i><span class=kw>def</span> condition(<span class=args><span class=kw>self</span></span>) </div></div><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4330>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_condition>link</a></div></div></div></li><li><div class=fn><a id=f_count></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_count>count</a>(<span class=args>self</span>) </span><div class=docline> Return the number of futures yet to be returned </div></div><div class=fdetail id=fn_count><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4387>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_count>link</a></div><pre>This includes both the number of futures still computing, as well as
those that are finished, but have not yet been returned from this
iterator.</pre></div></div></li><li><div class=fn><a id=f_has_ready></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_has_ready>has_ready</a>(<span class=args>self</span>) </span><div class=docline> Returns True if there are completed futures available. </div></div><div class=fdetail id=fn_has_ready><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4383>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_has_ready>link</a></div></div></div></li><li><div class=fn><a id=f_is_empty></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_is_empty>is_empty</a>(<span class=args>self</span>) </span><div class=docline> Returns True if there no completed or computing futures </div></div><div class=fdetail id=fn_is_empty><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4379>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_is_empty>link</a></div></div></div></li><li><div class=fn><a id=f_next_batch></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_next_batch>next_batch</a>(<span class=args>self, block=True</span>) </span><div class=docline> Get the next batch of completed futures. </div></div><div class=fdetail id=fn_next_batch><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4438>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_next_batch>link</a></div><h3>Parameters</h3><ul class=params><li><strong>block</strong> : bool <br><pre>If True then wait until we have some result, otherwise return
immediately, even with an empty list.  Defaults to True.</pre></li></ul><h3>Returns</h3><ul class=params><li> List of futures or (future, result) tuples </li></ul><h3>Examples</h3><pre>&gt;&gt;&gt; ac = as_completed(futures)  # doctest: +SKIP
&gt;&gt;&gt; client.gather(ac.next_batch())  # doctest: +SKIP
[4, 1, 3]

&gt;&gt;&gt; client.gather(ac.next_batch(block=False))  # doctest: +SKIP
[]</pre></div></div></li><li><div class=fn><a id=f_update></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol" href=distributed.client.as_completed.html#f_update>update</a>(<span class=args>self, futures</span>) </span><div class=docline> Add multiple futures to the collection. </div></div><div class=fdetail id=fn_update><div class=idnt><a class=sourcelink href=source+distributed.client.py.html#line-4361>source</a> <a class=sourcelink href=distributed.client.as_completed.html#f_update>link</a></div><pre>The added futures will emit from the iterator once they finish</pre></div></div></li></ul><h2>Reexports</h2><ul class=deflst><li> Imported in <a class=symbol href=distributed.tests.test_as_completed.html>distributed.tests.test_as_completed</a>. </li><li> Imported in <a class=symbol href=distributed.tests.test_client.html>distributed.tests.test_client</a>. </li><li> Imported in <a class=symbol href=distributed.tests.test_worker_client.html>distributed.tests.test_worker_client</a>. </li><li> Imported in <a class=symbol href=distributed.html>distributed</a>. </li></ul><p class=footer> Generated by <a href=https://github.com/spirali/nedoc>nedoc</a> v0.9 at 2020-12-29 14:05 </p></div></div></body></html>