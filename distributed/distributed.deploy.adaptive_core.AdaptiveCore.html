<!DOCTYPE html><html><head><meta charset=utf-8><title>distributed.deploy.adaptive_core.AdaptiveCore</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=./assets/purecss/pure-min.css><link rel=stylesheet href=./assets/purecss/grids-responsive-min.css><link rel=stylesheet href=./assets/style.css><link rel=stylesheet href=./assets/pygments/default.css><link rel=stylesheet href=./assets/jquery/jquery-ui.min.css><script src=./assets/jquery/jquery-3.0.0.min.js></script><script src=./assets/jquery/jquery-ui.min.js></script><script src=nedoc.js></script></head><body><div id=layout class=pure-g><div class="sidebar pure-u-1 pure-u-md-1-4"><div class=header><h1 class=brand-title>Distributed</h1> 1.0 </div><div id=sbox><input id=search style="color: black;" placeholder="search ..."></div><div class=tree><ul><li><a href=distributed.html>&#9662; distributed</a> </li><li><ul><li><a href=distributed.actor.html>&#9656; actor</a> </li><li><a href=distributed.asyncio.html>&#9656; asyncio</a> </li><li><a href=distributed.batched.html>&#9656; batched</a> </li><li><a href=distributed.bokeh.html>&#9656; bokeh</a> </li><li><a href=distributed.cfexecutor.html>&#9656; cfexecutor</a> </li><li><a href=distributed.cli.html>&#9656; cli</a> </li><li><a href=distributed.client.html>&#9656; client</a> </li><li><a href=distributed.comm.html>&#9656; comm</a> </li><li><a href=distributed.compatibility.html>&#9656; compatibility</a> </li><li><a href=distributed.config.html>&#9656; config</a> </li><li><a href=distributed.core.html>&#9656; core</a> </li><li><a href=distributed.counter.html>&#9656; counter</a> </li><li><a href=distributed.dashboard.html>&#9656; dashboard</a> </li><li><a href=distributed.deploy.html>&#9662; deploy</a> </li><li><ul><li><a href=distributed.deploy.adaptive.html>&#9656; adaptive</a> </li><li><a href=distributed.deploy.adaptive_core.html>&#9662; adaptive_core</a> </li><li><ul><li><div class=select><a href=distributed.deploy.adaptive_core.AdaptiveCore.html> <i>class</i> AdaptiveCore</a> </div></li></ul></li><li><a href=distributed.deploy.cluster.html>&#9656; cluster</a> </li><li><a href=distributed.deploy.local.html>&#9656; local</a> </li><li><a href=distributed.deploy.old_ssh.html>&#9656; old_ssh</a> </li><li><a href=distributed.deploy.spec.html>&#9656; spec</a> </li><li><a href=distributed.deploy.ssh.html>&#9656; ssh</a> </li><li><a href=distributed.deploy.tests.html>&#9656; tests</a> </li><li><a href=distributed.deploy.utils_test.html>&#9656; utils_test</a> </li></ul></li><li><a href=distributed.diagnostics.html>&#9656; diagnostics</a> </li><li><a href=distributed.diskutils.html>&#9656; diskutils</a> </li><li><a href=distributed.event.html>&#9656; event</a> </li><li><a href=distributed.http.html>&#9656; http</a> </li><li><a href=distributed.lock.html>&#9656; lock</a> </li><li><a href=distributed.locket.html>&#9656; locket</a> </li><li><a href=distributed.metrics.html>&#9656; metrics</a> </li><li><a href=distributed.nanny.html>&#9656; nanny</a> </li><li><a href=distributed.node.html>&#9656; node</a> </li><li><a href=distributed.preloading.html>&#9656; preloading</a> </li><li><a href=distributed.process.html>&#9656; process</a> </li><li><a href=distributed.proctitle.html>&#9656; proctitle</a> </li><li><a href=distributed.profile.html>&#9656; profile</a> </li><li><a href=distributed.protocol.html>&#9656; protocol</a> </li><li><a href=distributed.publish.html>&#9656; publish</a> </li><li><a href=distributed.pubsub.html>&#9656; pubsub</a> </li><li><a href=distributed.pytest_resourceleaks.html>&#9656; pytest_resourceleaks</a> </li><li><a href=distributed.queues.html>&#9656; queues</a> </li><li><a href=distributed.recreate_exceptions.html>&#9656; recreate_exceptions</a> </li><li><a href=distributed.scheduler.html>&#9656; scheduler</a> </li><li><a href=distributed.security.html>&#9656; security</a> </li><li><a href=distributed.semaphore.html>&#9656; semaphore</a> </li><li><a href=distributed.sizeof.html>&#9656; sizeof</a> </li><li><a href=distributed.stealing.html>&#9656; stealing</a> </li><li><a href=distributed.system.html>&#9656; system</a> </li><li><a href=distributed.system_monitor.html>&#9656; system_monitor</a> </li><li><a href=distributed.tests.html>&#9656; tests</a> </li><li><a href=distributed.threadpoolexecutor.html>&#9656; threadpoolexecutor</a> </li><li><a href=distributed.utils.html>&#9656; utils</a> </li><li><a href=distributed.utils_comm.html>&#9656; utils_comm</a> </li><li><a href=distributed.utils_perf.html>&#9656; utils_perf</a> </li><li><a href=distributed.utils_test.html>&#9656; utils_test</a> </li><li><a href=distributed.variable.html>&#9656; variable</a> </li><li><a href=distributed.versions.html>&#9656; versions</a> </li><li><a href=distributed.worker.html>&#9656; worker</a> </li><li><a href=distributed.worker_client.html>&#9656; worker_client</a> </li></ul></ul></div></div><div class="content pure-u-1 pure-u-md-3-4"><h1>Class AdaptiveCore</h1><div id=path><a class=symbol href=distributed.html>distributed</a>.<a class=symbol href=distributed.deploy.html>deploy</a>.<a class=symbol href=distributed.deploy.adaptive_core.html>adaptive_core</a>.<a class=symbol href=distributed.deploy.adaptive_core.AdaptiveCore.html>AdaptiveCore</a></div><p><div class=docline> The core logic for adaptive deployments, with none of the cluster details </div></p><h2>Declaration</h2><div class=decl><span class=kw>class</span> AdaptiveCore</div><a class=sourcelink href=source+distributed.deploy.adaptive_core.py.html#line-14>source</a> <a class=sourcelink href=distributed.deploy.adaptive_core.AdaptiveCore.html>link</a><h2>Documentation</h2><pre>This class controls our adaptive scaling behavior.  It is intended to be
used as a super-class or mixin.  It expects the following state and methods:

**State**

plan: set
    A set of workers that we think should exist.
    Here and below worker is just a token, often an address or name string

requested: set
    A set of workers that the cluster class has successfully requested from
    the resource manager.  We expect that resource manager to work to make
    these exist.

observed: set
    A set of workers that have successfully checked in with the scheduler

These sets are not necessarily equivalent.  Often plan and requested will
be very similar (requesting is usually fast) but there may be a large delay
between requested and observed (often resource managers don&#39;t give us what
we want).

**Functions**

target : -&gt; int
    Returns the target number of workers that should exist.
    This is often obtained by querying the scheduler

workers_to_close : int -&gt; Set[worker]
    Given a target number of workers,
    returns a set of workers that we should close when we&#39;re scaling down

scale_up : int -&gt; None
    Scales the cluster up to a target number of workers, presumably
    changing at least ``plan`` and hopefully eventually also ``requested``

scale_down : Set[worker] -&gt; None
    Closes the provided set of workers</pre><h3>Attributes</h3><ul class=params><li><strong>minimum</strong> : int <br><pre>The minimum number of allowed workers</pre></li><li><strong>maximum</strong> : int <br><pre>The maximum number of allowed workers</pre></li><li><strong>wait_count</strong> : int <br><pre>The number of scale-down requests we should receive before actually
scaling down</pre></li><li><strong>interval</strong> : str <br><pre>The amount of time, like ``&#34;1s&#34;`` between checks</pre></li></ul><h2>Methods</h2><ul class=deflst><li><div class=fn><a id=f___init__></a><div class=fshort><span class=def><span class=ftoggle>&#9654;</span> def <a class="fexpand symbol-no-doc" href=distributed.deploy.adaptive_core.AdaptiveCore.html#f___init__>__init__</a>(<span class=args>self, minimum: int = 0, maximum: int = math.inf, wait_count: int = 3, ...</span>) </span></div><div class=fdetail id=fn___init__><div class=decl><div class=def><span class=kw>def</span> __init__( <div class=args style="padding-left: 2em"><span class=kw>self</span>,</div><div class=args style="padding-left: 2em">minimum: int = <i>0</i>,</div><div class=args style="padding-left: 2em">maximum: int = <i>math.inf</i>,</div><div class=args style="padding-left: 2em">wait_count: int = <i>3</i>,</div><div class=args style="padding-left: 2em">interval: str = <i>"1s"</i>,</div> ) </div></div><div class=idnt><a class=sourcelink href=source+distributed.deploy.adaptive_core.py.html#line-70>source</a> <a class=sourcelink href=distributed.deploy.adaptive_core.AdaptiveCore.html#f___init__>link</a></div><h3>Overrides</h3><p>This method is overriden in:</p><ul class=deflst2><li><a class=symbol href=distributed.html>distributed</a>.<a class=symbol href=distributed.deploy.html>deploy</a>.<a class=symbol href=distributed.deploy.adaptive.html>adaptive</a>.<a class=symbol href=distributed.deploy.adaptive.Adaptive.html>Adaptive</a></li><li><a class=symbol href=distributed.html>distributed</a>.<a class=symbol href=distributed.deploy.html>deploy</a>.<a class=symbol href=distributed.deploy.tests.html>tests</a>.<a class=symbol href=distributed.deploy.tests.test_adaptive_core.html>test_adaptive_core</a>.<a class=symbol href=distributed.deploy.tests.test_adaptive_core.MyAdaptive.html>MyAdaptive</a></li></ul></div></div></li><li><div class=fn><a id=f_stop></a><div class=fshort><span class=def><span class=ftoggle-empty>&#9655;</span> def <a class="fexpand symbol-no-doc" href=distributed.deploy.adaptive_core.AdaptiveCore.html#f_stop>stop</a>(<span class=args>self</span>) </span></div><div class=fdetail id=fn_stop><div class=idnt><a class=sourcelink href=source+distributed.deploy.adaptive_core.py.html#line-108>source</a> <a class=sourcelink href=distributed.deploy.adaptive_core.AdaptiveCore.html#f_stop>link</a></div></div></div></li></ul><h2>Subclasses</h2><ul class=deflst><li><a class=symbol href=distributed.html>distributed</a>.<a class=symbol href=distributed.deploy.html>deploy</a>.<a class=symbol href=distributed.deploy.adaptive.html>adaptive</a>.<a class=symbol href=distributed.deploy.adaptive.Adaptive.html>Adaptive</a></li><li><a class=symbol href=distributed.html>distributed</a>.<a class=symbol href=distributed.deploy.html>deploy</a>.<a class=symbol href=distributed.deploy.tests.html>tests</a>.<a class=symbol href=distributed.deploy.tests.test_adaptive_core.html>test_adaptive_core</a>.<a class=symbol href=distributed.deploy.tests.test_adaptive_core.MyAdaptive.html>MyAdaptive</a></li></ul><h2>Reexports</h2><ul class=deflst><li> Imported in <a class=symbol href=distributed.deploy.adaptive.html>distributed.deploy.adaptive</a>. </li><li> Imported in <a class=symbol href=distributed.deploy.tests.test_adaptive_core.html>distributed.deploy.tests.test_adaptive_core</a>. </li></ul><p class=footer> Generated by <a href=https://github.com/spirali/nedoc>nedoc</a> v0.9 at 2020-12-29 14:05 </p></div></div></body></html>